<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="../style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <title>Document</title>
</head>
<body>
    <header>
        <img src="../assets/logo.svg" alt="">
        <nav class="nav_menu">
            <ul>
                <li>
                    <a href="../index.html">Home</a>
                </li>
                <li>
                    <a href="details.html">details</a>
                </li>
                <li>
                    <a href="myList.html">My liste</a>
                </li>
            </ul>
        </nav>
        <div class="icons">
            <img src="../assets/user.svg" alt="">
            <img src="../assets/movies/icons/moon.png" class="icon_dark" style="cursor: pointer; " alt="">
            <div class="hamburger">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
       </header>
       <section class="details_page">
        <div class="details">
            <div class="left_details" style="position: relative;">
                <img  src="../assets/poster.ong.png" class="imgdetails" alt="">
                <img src="../assets/movies/icons/add.svg" class="add_icon" id="add_icon" alt="">
                <div class="likess">
                    <img  src="../assets/movies/icons/like.svg" id="like" class="likeicon" alt="">
                    <h1 id="likes" style="color: white;"> </h1><h2 style="color: #16D0B1;">Likes</h2>
                </div>
            </div>
            <div class="right_details">
                <h1 class="title_details"></h1>
                <p class="date" style="font-size: 23px; color: white; font-family: 'Source Sans 3', sans-serif; font-weight: 400;" ></p>
                <p class="category_details"></p>
                <img src="../assets/stars.svg" class="starsimg" alt="">
                <h2>Overview</h2>
                <p class="description_details"></p>
            </div>
        </div>
        <h1 class="heading" style="font-size:2em; font-weight: bold;">Actors</h1>
        <div class="actors">
            <div class=" actor1 actor_card">
                <img src="../assets/actors/actor1.svg" alt="">
                <h1>Morfydd Clark</h1>
                <p>Halbrand, Sauron</p>
            </div>
            <div class="actor2 actor_card">
                <img src="../assets/actors/actor2.svg" alt="">
                <h1>Morfydd Clark</h1>
                <p>Halbrand, Sauron</p>
            </div>
            <div class="actor3 actor_card">
                <img src="../assets/actors/actor3.svg" alt="">
                <h1>Morfydd Clark</h1>
                <p>Halbrand, Sauron</p>
            </div>
            <div class="actor4 actor_card">
                <img src="../assets/actors/actor4.svg" alt="">
                <h1>Morfydd Clark</h1>
                <p>Halbrand, Sauron</p>
            </div>
            <div class="actor5 actor_card">
                <img src="../assets/actors/actor5.svg" alt="">
                <h1>Morfydd Clark</h1>
                <p>Halbrand, Sauron</p>
            </div>
        </div>
        <h1 class="heading" style="font-size:2em; font-weight: bold;">Add your Comment !</h1>
        <div class="comment_section">
            <form action="">
                <label for="comment" class="form_label">Rate</label>
                <div class="stars">
                    
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                    <i class="fa-solid fa-star"></i>
                </div>
                <label for="comment" class="form_label">Review</label>
                <textarea name="comment" id="comment" placeholder="please set you comment here"></textarea>
                <div class="submitbtn">
                    <div class="btn_submit">Submit</div>
                </div>
            </form>
            <div class="comment_list">
                <div class="comment">   
                    <h3>Ismail</h3>
                    <p>Great potential killed by fan service and shallow characters
                    </p>
                    <img src="../assets/stars.svg" style="width: 30%;" alt="">
                </div>
                <div class="comment">
                    <h3>Brahim</h3>
                    <p>It starts like Alien, continues like Aliens, ends like Prometheus.
                    </p>
                    <img src="../assets/stars.svg" style="width: 30%;" alt="">
                </div>
            </div>
        </div>
        <h1 style="text-align: center; font-weight: bold; font-size: 30px; margin-top: 30px;">To Watch</h1>
        <div class="towatch">
            <div class="pop movie pop1" id="1">
                <img src="../assets/movies/the_rings_of_power.svg" alt="">
                <h3>The rings Power</h3>
            </div>
            <div class="pop movie pop2" id="2">
                <img src="../assets/movies/prison_break.svg" alt="">
                <h3>Prison break</h3>
            </div>
            <div class="pop movie pop3" id="3">
                <img src="../assets/movies/vikings.svg" alt="">
                <h3>Vikings</h3>
            </div>
            <div class="pop movie pop4" id="4">
                <img src="../assets/movies/stagecoach.svg" alt="">
                <h3>Stagecoach</h3>
            </div>
            <div class="pop movie pop5" id="5">
                <img src="../assets/movies/meteor.svg" alt="">
                <h3>Meteor</h3>
            </div>
            <div class="pop movie pop6" id="6">
                <img src="../assets/movies/venom.svg" alt="">
                <h3>Venom</h3>
            </div>
            <div class="pop movie pop7" id="7">
                <img src="../assets/movies/terrifier3.svg" alt="">
                <h3>Terrifier3</h3>
            </div>
            <div class="pop movie pop8" id="8">
                <img src="../assets/movies/the_substance.svg" alt="">
                <h3>The Substance</h3>
            </div>
            <div class="pop movie pop9" id="9">
                <img src="../assets/movies/the_montecristo.svg" alt="">
                <h3 style="text-align: center;">The Montecristo</h3>
            </div>
            <div class="pop movie pop10" id="10">
                <img src= "../assets/movies/tulsa_king.svg" alt="">
                <h3>Tulsa King</h3>
            </div>
        </div>
       </section>
       <footer>
        <div class="footer_top">
            <a href="">FAQ</a>
            <a href="">Help Center</a>
            <a href="">Terms of Use</a>
            <a href="">Privacy</a>

        </div>
        <hr class="solid">
        <div class="footer_bottom">
            <img src="../assets/logo.svg" alt="">
            <button class="footer_btn">join the community</button>
        </div>
       </footer>
</body>
<script>
    const like = document.getElementById("like");
    const originalSrc = "../assets/movies/icons/like.svg"; 
    const toggledSrc = "../assets/movies/icons/likev2.svg"; 
    const selectedMovie = JSON.parse(localStorage.getItem("selectedMovie"));

    const likecount = document.getElementById("likes");
    let likeinteger = selectedMovie.likes ;
    likecount.textContent = likeinteger;
    if(like.src = localStorage.getItem("isliked") === "enable"){
        like.src = toggledSrc ;
    }else{
        like.src = originalSrc ;
    }

    like.addEventListener("click", () => {
        if (like.src.endsWith("like.svg")) {
            like.src = toggledSrc; 
            likeinteger++; 
            localStorage.setItem("isliked", "enable");
        } else {
            like.src = originalSrc; 
            likeinteger--; 
            localStorage.setItem("isliked", "disable");
        }

        localStorage.setItem("likecount", likeinteger);
        likecount.textContent = likeinteger;
    });

//////////////////////////////////////////////////////////////////////////////////////////
        
        console.log(selectedMovie);

        document.querySelector(".title_details").innerText = selectedMovie.title ;
        document.querySelector(".date").innerText = selectedMovie.releaseYear ;
        document.querySelector(".category_details").innerText = selectedMovie.genre;
        document.querySelector(".description_details").innerText = selectedMovie.description;
        document.querySelector(".imgdetails").src = selectedMovie.imagepath;


//////////////////////////////////////////////////////////////////////////////////////////
    const comment_list = document.querySelector(".comment_list");

    document.querySelector(".btn_submit").addEventListener("click", function() {
        
        const textareaValue = document.getElementById("comment").value;
        localStorage.setItem("comment", textareaValue);

        const newdiv = document.createElement("div") ;
        const comment = localStorage.getItem("comment");
        const rating = localStorage.getItem("rating");
        console.log(rating);
        
        newdiv.innerHTML = `<div class="comment">   
                    <h3>Anonymous</h3>
                 <i style="color: gold;" class="fa-solid fa-star"><span class="rating_span">${rating}</span></i>
                    <p>${comment}
                    </p>
                    

                </div>`
        comment_list.appendChild(newdiv);
        
        document.getElementById("comment").value = '';


       

    });
//////////////////////////////////////////////////////////////////////////////////////////
const add_icon = document.getElementById("add_icon");
const add = "../assets/movies/icons/add.svg";
const added = "../assets/movies/icons/added.svg";
let mylist = JSON.parse(localStorage.getItem("mylist")) || [];
let pas = mylist.length; 

if (mylist.find(movie => movie.id === selectedMovie.id)) {
    add_icon.src = added;
} else {
    add_icon.src = add;
}

add_icon.addEventListener("click", () => {
    if (add_icon.src.endsWith("add.svg")) {
        add_icon.src = added;
            mylist.push(selectedMovie);
            localStorage.setItem("mylist", JSON.stringify(mylist)); 
    } else {
        add_icon.src = add;
    }
});
</script>
<script>
    const icon = document.querySelector(".icon_dark");
    icon.onclick = function() {
    if(icon.src.endsWith("moon.png")){
        document.body.classList.add("dark_theme")
        icon.src = "../assets/movies/icons/sun.png"
        localStorage.setItem("isdark" , "enabled");
    }
    else{
        document.body.classList.remove("dark_theme")
        icon.src = "../assets/movies/icons/moon.png"
        localStorage.setItem("isdark" , "disabled");

    }
};
    if(localStorage.getItem("isdark") === "enabled"){
        document.body.classList.add("dark_theme");
        icon.src = "../assets/movies/icons/sun.png"
    }else{
        document.body.classList.remove("dark_theme");
        icon.src = "../assets/movies/icons/moon.png"
    }
</script>
<script>
   function scrollbyme(){
    const towatch = document.querySelector(".towatch");
    let scrollAmount = 0 ;
    setInterval(()=>{
        towatch.scrollBy(
            {
                left:1,
                behavior :"smooth"
            },
        )
        scrollAmount =+1 ;

        if(scrollAmount>=towatch.scrollWidth - towatch.clientWidth){
            towatch.scrollTo(
                {
                    left : 0 ,
                    behavior :"smooth",
                }
            )
            scrollAmount =0 ;
        }
    },10)
   }
   scrollbyme() ;
</script>
<script>
    const stars = document.querySelectorAll(".fa-star");
    stars.forEach((star , index) =>{
        star.addEventListener("click" , ()=>{
            localStorage.setItem("rating" , index+1)
            stars.forEach((star , index2)=>{     
               
                           
               if(index>=index2){
                star.classList.add("active");
               }else{
                star.classList.remove("active");
               }
                
            })
            
        })
    })
</script>
<script>
        const hamburger = document.querySelector(".hamburger");
    const nav_menu = document.querySelector(".nav_menu");
    hamburger.addEventListener("click", () => {
       hamburger.classList.toggle("active");
       nav_menu.classList.toggle("active");
    }); 
</script>

</html>
